#!/usr/bin/env python
# coding: utf-8

# <div style="border:solid blue 3px; padding: 20px">
# 
# **–ü—Ä–∏–≤–µ—Ç, –°–µ—Ä–≥–µ–π!** üëã
# 
# –ú–µ–Ω—è –∑–æ–≤—É—Ç –ê–ª–µ–∫—Å–µ–π –ú–∞–Ω–µ–ª—é–∫, —è –±—É–¥—É –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Ç–≤–æ–π –ø—Ä–æ–µ–∫—Ç. –ü—Ä–µ–¥–ª–∞–≥–∞—é –æ–±—â–∞—Ç—å—Å—è –Ω–∞ "—Ç—ã" üòâ, –Ω–æ –µ—Å–ª–∏ –Ω–µ—É–¥–æ–±–Ω–æ - —Å–∫–∞–∂–∏ –∏ –±—É–¥–µ–º –Ω–∞ "–≤—ã".
# 
# –ú–æ—è —Ü–µ–ª—å - –Ω–µ —É–∫–∞–∑–∞—Ç—å –Ω–∞ —Å–æ–≤–µ—Ä—à–µ–Ω–Ω—ã–µ —Ç–æ–±–æ–π –æ—à–∏–±–∫–∏, –∞ –ø–æ–¥–µ–ª–∏—Ç—å—Å—è —Å–≤–æ–∏–º –æ–ø—ã—Ç–æ–º –∏ –ø–æ–º–æ—á—å —Ç–µ–±–µ —Å–¥–µ–ª–∞—Ç—å –∫—Ä—É—Ç–æ–π –ø—Ä–æ–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ —Å—Ç—ã–¥–Ω–æ –±—É–¥–µ—Ç –ø–æ–ª–æ–∂–∏—Ç—å –≤ —Ç–≤–æ–µ –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ.
# 
# –í —Ç–µ–∫—Å—Ç–µ –ø—Ä–æ–µ–∫—Ç–∞ —Ç—ã —É–≤–∏–¥–∏—à—å –º–æ–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –Ω–µ —É–¥–∞–ª—è–π, –Ω–µ –ø–µ—Ä–µ–º–µ—â–∞–π –∏ –Ω–µ –∏–∑–º–µ–Ω—è–π –∏—Ö. –£ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –º–æ–≥—É—Ç –±—ã—Ç—å –ø—Ä–∏–ø–∏—Å–∫–∏ **V2**, **V3** –∏ —Ç.–¥., –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –≤–µ—Ä—Å–∏–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏. –Ø –±—É–¥—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ü–≤–µ—Ç–æ–≤—É—é —Ä–∞–∑–º–µ—Ç–∫—É:
# <p>
# <div class="alert-danger">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ ‚ùå</b>
# 
# –¢–∞–∫ –≤—ã–¥–µ–ª–µ–Ω—ã —Å–∞–º—ã–µ –≤–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è. –ë–µ–∑ –∏—Ö –æ—Ç—Ä–∞–±–æ—Ç–∫–∏ —è –Ω–µ —Å–º–æ–≥—É –ø—Ä–∏–Ω—è—Ç—å –ø—Ä–æ–µ–∫—Ç. </div>
# 
# <div class="alert-warning">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ ‚ö†Ô∏è</b>
# 
# –¢–∞–∫ –≤—ã–¥–µ–ª–µ–Ω—ã –Ω–µ–±–æ–ª—å—à–∏–µ –∑–∞–º–µ—á–∞–Ω–∏—è –∏–ª–∏ –ø–æ–ª–µ–∑–Ω—ã–µ —Å–æ–≤–µ—Ç—ã. –ü–æ—Å—Ç–∞—Ä–∞–π—Å—è —É—á–µ—Å—Ç—å –∏—Ö.</div>
# <p>
# <div class="alert-success">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ ‚úîÔ∏è</b>
# 
# –¢–∞–∫ –≤—ã–¥–µ–ª–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è.</div>
# 
# –ü—Ä–µ–¥–ª–∞–≥–∞—é —Ä–∞–±–æ—Ç–∞—Ç—å –≤ –¥–∏–∞–ª–æ–≥–µ: –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –¥–æ—Ä–∞–±–∞—Ç—ã–≤–∞–µ—à—å –∏–ª–∏ –æ—Ç–≤–µ—á–∞–µ—à—å –Ω–∞ –º–æ–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π - –ø–∏—à–∏ –æ–± —ç—Ç–æ–º. –ú–Ω–µ –±—É–¥–µ—Ç —É–¥–æ–±–Ω–µ–π, –µ—Å–ª–∏ —Ç—ã –≤—ã–¥–µ–ª–∏—à—å —Å–≤–æ–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏:
# <p>
# <div class="alert-info">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å—Ç—É–¥–µ–Ω—Ç–∞</b>
# 
# –ù–∞–ø—Ä–∏–º–µ—Ä, —Ç–∞–∫.</div>
# 
# –í—Å–µ —ç—Ç–æ –ø–æ–º–æ–∂–µ—Ç –º–Ω–µ –±—ã—Å—Ç—Ä–µ–µ –ø—Ä–∏–Ω—è—Ç—å —Ç–≤–æ–π –ø—Ä–æ–µ–∫—Ç.</div>

# <p>
# <div class="alert-info">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å—Ç—É–¥–µ–Ω—Ç–∞</b>
# 
# –ú–æ–∂–Ω–æ –Ω–∞ "—Ç—ã". –ö–∞–∫ –æ—Ç–ø—Ä–∞–≤–ª—é —Ç–µ–±–µ —Å–≤–µ–∂—É—é –≤–µ—Ä—Å–∏—é –æ–≥—Ä–æ–º–Ω–∞—è –ø—Ä–æ—Å—å–±–∞ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å—Ä–∞–∑—É. –°–µ–≥–æ–¥–Ω—è –ø–æ—Å–ª–µ–¥–Ω–∏–π —Å—Ä–æ–∫ –∂–µ—Å—Ç–∫–æ–≥–æ –¥–µ–¥–ª–∞–π–Ω–∞. –ò–∑–∑–∞ –≤—ã–Ω—É–∂–¥–µ–Ω–Ω—ã—Ö –ø–µ—Ä–µ–µ–∑–¥–æ–≤ –æ—Ç—Å—Ç–∞–ª –æ—Ç –≥—Ä–∞—Ñ–∏–∫–∞. –î–µ–¥–ª–∞–π–Ω –ø—Ä–æ—Å–∏–ª –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏. –ù–∞–≥–Ω–∞–ª. –ù–æ –ø–µ—Ä–µ–Ω–µ—Å–ª–∏ —Ç–æ–ª—å–∫–æ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è.</div>

# # –ü—Ä–æ–µ–∫—Ç –ø–æ –∞–Ω–∞–ª–∏–∑—É –¥–∞–Ω–Ω—ã—Ö –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –º–∞–≥–∞–∑–∏–Ω–∞ "–°—Ç—Ä–∏–º—á–∏–∫"

# –í –¥–∞–Ω–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã—è–≤–∏—Ç—å –∑–∞–∫–æ–Ω–æ–º–µ—Ä–Ω–æ—Å—Ç–∏ –∏ –æ—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–º–æ–≥—É—Ç —Å–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∫–ª–∞–º–Ω—É—é –∫–æ–º–ø–∞–Ω–∏—é –Ω–∞ 2017. –ù–∞–º –¥–æ—Å—Ç—É–ø–Ω—ã –¥–∞–Ω–Ω—ã–µ –æ –ø—Ä–æ–¥–∞–∂–µ –∏–≥—Ä –¥–æ 2016 –≥–æ–¥–∞.

# <div class="alert-warning">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ ‚ö†Ô∏è</b>
# 
# 
# üìå –ü–æ—Å–ª–µ –Ω–∞–∑–≤–∞–Ω–∏—è, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –±—Ä–∏—Ñ, —Ü–µ–ª–∏ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è, –æ–ø–∏—Å–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏ –ø–ª–∞–Ω —Ä–∞–±–æ—Ç—ã.</div>

# <p>
# <div class="alert-info">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å—Ç—É–¥–µ–Ω—Ç–∞</b>
# 
# –î–æ–±–∞–≤–∏–ª.</div>

# <div class="alert-success">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ V2 ‚úîÔ∏è</b>
# 
# –ú–æ–∂–Ω–æ —á—É—Ç—å –ø–æ–¥—Ä–æ–±–Ω–µ–µ: –æ–ø–∏—Å–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö, –ø–ª–∞–Ω —Ä–∞–±–æ—Ç—ã.</div>

# ## –ü—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö

# In[1]:


import pandas as pd
#%matplotlib inline
import matplotlib.pyplot as plt
import seaborn as sns
#sns.set()
import numpy as np
from scipy import stats as st


# In[2]:


data = pd.read_csv('/datasets/games.csv', sep=',')

display(data.head())

data.info()

print('\n–ß–∏—Å–ª–æ –ø–æ–ª–Ω—ã—Ö –¥—É–±–ª–∏–∫–∞—Ç–æ–≤:', data.duplicated().sum())
print('\n–ß–∏—Å–ª–æ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –ø–æ —Å—Ç–æ–ª–±—Ü–∞–º –ù–∞–∑–≤–∞–Ω–∏–µ-–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞:', data.duplicated(subset=['Name', 'Platform']).sum())

data.describe()
    


# –ò–∑—É—á–∏–º —ç—Ç–∏ –¥—É–±–ª–∏–∫–∞—Ç—ã

# In[3]:


data[data.duplicated(subset=['Name', 'Platform'], keep=False)]


# In[4]:


data = data.drop_duplicates(subset=['Name', 'Platform'], keep='first')


# –ü—Ä–æ–≤–µ—Ä–∏–º –∏—Ö —Å–Ω–æ–≤–∞

# In[5]:


print('\n–ß–∏—Å–ª–æ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –ø–æ —Å—Ç–æ–ª–±—Ü–∞–º –ù–∞–∑–≤–∞–Ω–∏–µ-–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞:', data.duplicated(subset=['Name', 'Platform']).sum())


# <div class="alert-warning">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ ‚ö†Ô∏è</b>
# 
# üìå –õ—É—á—à–µ —Ä–∞–∑–¥–µ–ª—è—Ç—å —è—á–µ–π–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫ –∏ –¥–∞–Ω–Ω—ã—Ö. –ï—Å–ª–∏ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –ø–æ–¥–∫–ª—é—á–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É, –Ω–µ –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –∑–∞–Ω–æ–≤–æ –≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∏ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ.
# 
# –î—É–±–ª–∏–∫–∞—Ç—ã —Ç–∞–∫–∂–µ —Å—Ç–æ–∏—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ –ø–æ —Å—Ç–æ–ª–±—Ü–∞–º: –Ω–∞–∑–≤–∞–Ω–∏–µ - –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞</div>

# <p>
# <div class="alert-info">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å—Ç—É–¥–µ–Ω—Ç–∞</b>
# 
# –ü–æ–ø—Ä–∞–≤–∏–ª.</div>

# <div class="alert-success">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ V2 ‚úîÔ∏è</b>
# 
# –û—Ç–ª–∏—á–Ω–æ! –ü—Ä–∞–≤–¥–∞ —Å —É–¥–∞–ª–µ–Ω–∏–µ–º –≤—Å–µ—Ö –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ —Ç—ã –ø–æ—Ç–æ—Ä–æ–ø–∏–ª—Å—è - –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –ø–µ—Ä–µ–∏–∑–¥–∞–Ω–∏—è–º–∏.</div>

# ### –í—ã–≤–æ–¥

# –í—Å–µ–≥–æ –≤ –¥–∞—Ç–∞—Ñ—Ä–µ–π–º–µ 16715 –∑–∞–ø–∏—Å–µ–π –∑–∞–π–º–µ–º—Å—è –∏—Ö –ø—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–æ–π

# <div class="alert-success">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ ‚úîÔ∏è</b>
# 
# –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã –≤–µ—Ä–Ω–æ, –ø–æ–ª—É—á–µ–Ω–∞ –æ–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–∞—Ç–∞—Ñ—Ä–µ–π–º–µ. üöÄ</div>

# <div class="alert-warning">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ ‚ö†Ô∏è</b>
# 
# –î–æ–±–∞–≤—å –ø–æ–∂–∞–ª—É–π—Å—Ç–∞ –≤ —Å–≤–æ—é —Ä–∞–±–æ—Ç—É –ø–æ–¥–∑–∞–≥–æ–ª–æ–≤–∫–∏, –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å —à–∞–≥–∞–º–∏ –∑–∞–¥–∞–Ω–∏—è.
# 
# `#` - 1 —É—Ä–æ–≤–µ–Ω—å
# `##` - 2 —É—Ä–æ–≤–µ–Ω—å
# `###` - 3 —É—Ä–æ–≤–µ–Ω—å
#     
#    
# </div>

# ### –ü—Ä–∏–≤–æ–¥–∏–º –Ω–∞–∑–≤–∞–Ω–∏—è —Å—Ç–æ–ª–±—Ü–æ–≤ –∫ –Ω–∏–∂–Ω–µ–º—É —Ä–µ–≥–∏—Å—Ç—Ä—É

# In[6]:


data.columns = map(str.lower, data.columns)


# <div class="alert-success">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ ‚úîÔ∏è</b>
# 
# üìå –ü—Ä–∏–≤–µ—Å—Ç–∏ –Ω–∞–∑–≤–∞–Ω–∏—è —Å—Ç–æ–ª–±—Ü–æ–≤ –∫ –Ω–∏–∂–Ω–µ–º—É —Ä–µ–≥–∏—Å—Ç—Ä—É –º–æ–∂–Ω–æ –∏ —Ç–∞–∫: 
# 
# `df.columns = df.columns.str.lower()`</div>

# ### –°–æ–∑–¥–∞–¥–∏–º —Å—Ç–æ–ª–±–µ—Ü —Å –æ–±—â–∏–º–∏ –ø—Ä–æ–¥–∞–∂–∞–º–∏ –ø–æ –≤—Å–µ–º —Ä–µ–≥–∏–æ–Ω–∞–º

# In[7]:


data['total_sales'] = data['na_sales'] + data['eu_sales'] + data['other_sales'] + data['jp_sales']


# ### –ü—Ä–æ–≤–µ—Ä–∏–º –¥–∞–Ω–Ω—ã–µ –Ω–∞ –ø—Ä–æ–ø—É—Å–∫–∏

# In[8]:


#–£–¥–∞–ª—è–µ–º –ø—Ä–æ–ø—É—Å–∫–∏ –¥–∞—Ç—ã —Ä–µ–ª–∏–∑–∞ –ø–æ –≥–æ–¥—É, —Ç.–∫. –¥–æ–ª—è —ç—Ç–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π –≤–æ –≤—Å–µ–º –¥–∞—Ç–∞—Ñ—Ä–µ–π–º–µ –æ—á–µ–Ω—å –º–∞–ª–∞(–≤—Ä–µ–º–µ–Ω–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ)
data.dropna(subset=['year_of_release'], inplace = True)


# In[9]:


data.isna().sum()


# –ü—Ä–æ–ø—É—Å–∫–∏ –≤ —Ä–µ–π—Ç–∏–Ω–≥–∞—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –∫—Ä–∏—Ç–∏–∫–æ–≤ –æ—Å—Ç–∞–≤–ª—è–µ–º, —Ç.–∫. –∏—Ö –¥–æ–≤–æ–ª—å–Ω–æ –º–Ω–æ–≥–æ. –í–æ–∑–º–æ–∂–Ω–æ –æ–Ω–∏ –µ—Å—Ç—å –≤ —Ç–∞–±–ª–∏—Ü–µ, —Ç.–∫. –∏–≥—Ä–∞ –Ω–∞—Å—Ç–æ–ª—å–∫–æ –Ω–µ –ø–æ–ø—É–ª—è—Ä–Ω–∞, —á—Ç–æ –Ω–µ –Ω–∞—à–ª–æ—Å—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∂–µ–ª–∞—é—â–∏—Ö –µ–µ –æ—Ü–µ–Ω–∏—Ç—å. –í—ã–¥–µ–ª–∏–º –∏–≥—Ä—ã –±–µ–∑ —Ä–µ–π—Ç–∏–Ω–≥–∞ –≤ –æ—Ç–¥–µ–ª—å–Ω—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é NR(NoRating)

# In[10]:


data['rating'] = data['rating'].fillna('NR')


# <div class="alert-warning">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ ‚ö†Ô∏è</b>
# 
# –ò–º–µ–µ—Ç —Å–º—ã—Å–ª –≤—ã–¥–µ–ª–∏—Ç—å –∏–≥—Ä—ã –±–µ–∑ —Ä–µ–π—Ç–∏–Ω–≥–∞ –≤ –æ—Ç–¥–µ–ª—å–Ω—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é, –æ–Ω–∏ –ø–æ–Ω–∞–¥–æ–±—è—Ç—Å—è –≤ –¥–∞–ª—å–Ω–µ–π—à–µ–º –∞–Ω–∞–ª–∏–∑–µ. –¢–∞–∫–∂–µ –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ –∑–∞–º–µ–Ω–∏—Ç—å —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è —Ä–µ–π—Ç–∏–Ω–≥–∞.
# 
# –ß—Ç–æ –∫–∞—Å–∞–µ—Ç—Å—è –æ—Ü–µ–Ω–æ–∫ –∫—Ä–∏—Ç–∏–∫–æ–≤ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π - —Å–æ–≥–ª–∞—Å–µ–Ω, –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –ø—Ä–æ–ø—É—Å–∫–∏.</div>

# <div class="alert-warning">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ ‚ö†Ô∏è</b>
# 
# –ü–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥ –ª—É—á—à–µ —É–¥–∞–ª–∏—Ç—å –∏–∑ —Ä–∞–±–æ—Ç—ã.</div>

# <p>
# <div class="alert-info">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å—Ç—É–¥–µ–Ω—Ç–∞</b>
# 
# –ü–æ–ø—Ä–∞–≤–∏–ª.</div>

# <div class="alert-success">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ V2 ‚úîÔ∏è</b>
# 
# –°—É–ø–µ—Ä! –¢–µ–ø–µ—Ä—å –∏–≥—Ä—ã –±–µ–∑ —Ä–µ–π—Ç–∏–Ω–≥–∞ –Ω–µ –≤—ã–ø–∞–¥—É—Ç –∏–∑ –ø–æ—Ä—Ç—Ä–µ—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –¥–∞–ª—å—à–µ.</div>

# ### –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º year_of_release –≤ int –∏ —É–±–∏—Ä–∞–µ–º –¥—Ä–æ–±–Ω—É—é —á–∞—Å—Ç—å –≥–æ–¥–∞.

# In[11]:


#–ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º year_of_release –≤ int –∏ —É–±–∏—Ä–∞–µ–º –¥—Ä–æ–±–Ω—É—é —á–∞—Å—Ç—å –≥–æ–¥–∞.
data['year_of_release'] = round(data['year_of_release'].astype(int, errors='ignore'), 0)
data['user_score'] = data['user_score'].fillna(value=False)


# In[12]:


data.info()


# ### –ò—Å—Å–ª–µ–¥—É–µ–º –∞–±—Ä–µ–≤–∏–∞—Ç—É—Ä—É 'tbd' –≤ —Å—Ç–æ–ª–±—Ü–µ user_score

# In[13]:


#–ò—Å—Å–ª–µ–¥—É–µ–º –∞–±—Ä–µ–≤–∏–∞—Ç—É—Ä—É 'tbd' –≤ —Å—Ç–æ–ª–±—Ü–µ user_score
tbd = data.loc[data['user_score'] == 'tbd']
tbd.count()


# –ê–±—Ä–µ–≤–∏–∞—Ç—É—Ä–∞ tbd –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è –¥–æ—Å—Ç—Å—Ç–æ—á–Ω–æ –≤ 2376 —Å–ª—É—á–∞—è—Ö –ø–æ–∫–∞ —á—Ç–æ –Ω–∏–∫–∞–∫–æ–π –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–µ –∑–∞–º–µ—á–µ–Ω–æ. –û–Ω–∞ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —Ä–µ–π—Ç–∏–Ω–≥ –¥–ª—è –¥–∞–Ω–Ω–æ–π –∏–≥—Ä—ã –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω. –ü–æ—ç—Ç–æ–º—É –∑–∞–º–µ–Ω–∏–º –µ–≥–æ –Ω–∞ –Ω—É–ª–µ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ.

# <div class="alert-warning">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ ‚ö†Ô∏è</b>
# 
# –¢—ã –∂–µ –≤—ã—à–µ –ø–∏—Å–∞–ª, —á—Ç–æ –ø—Ä–æ–ø—É—Å–∫–∏ –≤ –æ—Ü–µ–Ω–∫–∞—Ö –Ω–µ –±—É–¥–µ—à—å –∑–∞–ø–æ–ª–Ω—è—Ç—å, –ø–æ—á–µ–º—É —Ä–µ—à–∏–ª —Ç–µ–ø–µ—Ä—å –∑–∞–ø–æ–ª–Ω–∏—Ç—å? –ò –≥–¥–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–ª—é—á–æ–º 9999?</div>

# <div class="alert-info">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å—Ç—É–¥–µ–Ω—Ç–∞</b>
# 
# –ü–æ–ø—Ä–∞–≤–∏–ª. –í –∫–æ–º–µ–Ω—Ç–∞—Ä–∏–∏ –±—ã–ª–∏ –æ—Å—Ç–∞—Ç–∫–∏ –¥—Ä—É–≥–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è –æ—Ç –∫–æ—Ç–æ—Ä–æ–≥–æ —Ä–µ—à–∏–ª –æ—Ç–∫–∞–∑–∞—Ç—å—Å—è. –ü–æ TBD –º–µ—à–∞–µ—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—é –≥—Ä–∞—Ñ–∏–∫–æ–≤ –µ—Å–ª–∏ –æ—Å—Ç–∞–≤–∏—Ç—å —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ.</div>

# In[14]:


data = data.replace('tbd', False)
data['user_score'] = data['user_score'].astype(float)
data.info()


# In[15]:


# –ö–æ–¥ —Ä–µ–≤—å—é–µ—Ä–∞
data['user_score'].sort_values().unique()


# ### –í—ã–≤–æ–¥

# –ü—Ä–æ–ø—É—Å–∫–∏ –Ω–∞—Ö–æ–¥–∏–ª–∏—Å—å –≤ –≥—Ä–∞—Ñ–∞—Ö –¥–∞—Ç—ã —Ä–µ–ª–∏–∑–∞ –ø–æ –≥–æ–¥—É, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –æ—Ü–µ–Ω–æ–∫, –æ—Ü–µ–Ω–æ–∫ –∫—Ä–∏—Ç–∏–∫–∞–º–∏ –∏ —Ä–µ–π—Ç–∏–Ω–≥–∞ –ø–æ –≤–æ–∑—Ä–∞—Å—Ç—É. –û—Å—Ç–∞–≤–ª–µ–Ω—ã —Ç–æ–ª—å–∫–æ –ø—Ä–æ–ø—É—Å–∫–∏ –ø–æ –æ—Ü–µ–Ω–∫–∞–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –∫—Ä–∏—Ç–∏–∫–æ–≤, –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã –∏–ª–∏ —É–¥–∞–ª–µ–Ω—ã. –ò–∑ 16700 –æ—Å—Ç–∞–ª–æ—Å—å 1640.

# <div class="alert-warning">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ ‚ö†Ô∏è</b>
# 
# –í –∫–æ–Ω—Ü–µ –ø—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–º–µ–µ—Ç —Å–º—ã—Å–ª –Ω–∞–ø–∏—Å–∞—Ç—å –∫—Ä–∞—Ç–∫–∏–π –≤—ã–≤–æ–¥ –æ –ø—Ä–æ–¥–µ–ª–∞–Ω–Ω–æ–π —Ä–∞–±–æ—Ç–µ: –≤—Å–µ –ª–∏ –ø—Ä–æ–ø—É—Å–∫–∏ –∏ –¥—É–±–ª–∏–∫–∞—Ç—ã –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã, –∫–∞–∫–∏–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω—ã, —Å—Ä–∞–≤–Ω–∏—Ç—å –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω—É—é —Ç–∞–±–ª–∏—Ü—É —Å –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–π –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç —Ç–æ–≥–æ, —Å–∫–æ–ª—å–∫–æ –¥–∞–Ω–Ω—ã—Ö –º—ã –≤—ã–±—Ä–æ—Å–∏–ª–∏. </div>

# <div class="alert-info">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å—Ç—É–¥–µ–Ω—Ç–∞</b>
# 
# –°–¥–µ–ª–∞–Ω–æ.</div>

# <div class="alert-success">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ V2 ‚úîÔ∏è</b>
# 
# üëç</div>

# ## –ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö

# ### –ò–∑—É—á–∏–º —Å–∫–æ–ª—å–∫–æ –∏–≥—Ä –≤—ã–ø—É—Å–∫–∞–ª–æ—Å—å –≤ —Ä–∞–∑–Ω—ã–µ –≥–æ–¥—ã. –í–∞–∂–Ω—ã –ª–∏ –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –ø–æ –≥–æ–¥–∞–º –¥–ª—è –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–ª—å–Ω–µ–π—à–∏—Ö –ø—Ä–æ–¥–∞–∂.

# In[16]:


display(data.groupby('year_of_release')['total_sales'].count())
data.groupby('year_of_release')['total_sales'].count().plot(title='–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–ª–∏–∑–æ–≤ –∏–≥—Ä –ø–æ –≥–æ–¥–∞–º',
                                                           xlabel='–ì–æ–¥–∞',
                                                           ylabel='–í—ã–ø—É—â–µ–Ω—ã–µ –∏–≥—Ä—ã'
)


# –° 1980 –¥–æ 2001 –≤ –≥–æ–¥ –≤—ã–ø—É—Å–∫–∞–ª–æ—Å—å –¥–æ 500 –∏–≥—Ä. –≠—Ç–∏–º –∫–æ–ª–ª–∏—á–µ—Å—Ç–≤–æ–º —Ä–µ–ª–∏–∑–æ–≤ –≤ –≥–æ–¥, —Ç–µ–º –±–æ–ª–µ–µ —É—á–∏—Ç—ã–≤–∞—è, —á—Ç–æ —Å —Ç–µ—Ö –ø–æ—Ä –∏–Ω–¥—É—Å—Ç—Ä–∏—è —Å–∏–ª—å–Ω–æ –ø–æ–º–µ–Ω—è–ª–∞—Å—å –º–æ–∂–Ω–æ –ø—Ä–∏–Ω–µ–±—Ä–µ—á—å.

# <div class="alert-warning">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ ‚ö†Ô∏è</b>
# 
# –ó–¥–µ—Å—å —Å—Ç–æ–∏—Ç –¥–æ–±–∞–≤–∏—Ç—å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é. </div>

# <div class="alert-info">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å—Ç—É–¥–µ–Ω—Ç–∞</b>
# 
# –°–¥–µ–ª–∞–Ω–æ.</div>

# <div class="alert-success">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ V2 ‚úîÔ∏è</b>
# 
# –•–æ—Ä–æ—à–æ –±—ã —É–±—Ä–∞—Ç—å –Ω–∞–¥–ø–∏—Å—å `<AxesSubplot:title={'center':'–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–ª–∏–∑–æ–≤ –∏–≥—Ä –ø–æ –≥–æ–¥–∞–º'}, xlabel='–ì–æ–¥–∞', ylabel='–í—ã–ø—É—â–µ–Ω—ã–µ –∏–≥—Ä—ã'>`. –†–∞–∑–º–µ—Ä –≥—Ä–∞—Ñ–∏–∫–∞ –º–æ–∂–Ω–æ —É–≤–µ–ª–∏—á–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º `figsize`.</div>

# ### –ò–∑—É—á–∏–º –¥–∞–Ω–Ω—ã–µ –ø–æ —Ä–∞–∑–Ω—ã–º –∏–≥—Ä–æ–≤—ã–º –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–º

# –ü–æ–ª—É—á–∏–º –æ–±—â–µ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –æ –∂–∏–∑–Ω–µ–Ω–æ–º —Ü–∏–∫–ª–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º –Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–ø—É—Å–∫–∞—é—Ç—Å—è –∏–≥—Ä—ã –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º –∏–∑ —Ä–∞–∑–Ω—ã—Ö –ø–µ—Ä–∏–æ–¥–æ–≤.

# In[17]:


data[data['platform'] == 'NES']['year_of_release'].plot(kind='hist',alpha=0.5,figsize=(10,10), title='–ü—Ä–æ–¥–∞–∂–∏ –ø–æ –≥–æ–¥–∞–º', xlabel='–ì–æ–¥–∞', ylabel='–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–¥–∞–∂')
data[data['platform'] == 'SNES']['year_of_release'].plot(kind='hist',alpha=0.5,figsize=(10,10), title='–ü—Ä–æ–¥–∞–∂–∏ –ø–æ –≥–æ–¥–∞–º', xlabel='–ì–æ–¥–∞', ylabel='–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–¥–∞–∂')


# <div class="alert-warning">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ ‚ö†Ô∏è</b>
# 
# –î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –≥—Ä–∞—Ñ–∏–∫ —Å–º–æ—Ç—Ä–µ–ª—Å—è –∞–∫–∫—É—Ä–∞—Ç–Ω–µ–µ —Å—Ç–æ–∏—Ç —É–±—Ä–∞—Ç—å –Ω–∞–¥–ø–∏—Å—å `<AxesSubplot:>`, –¥–æ–±–∞–≤–∏—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ, –ø–æ–¥–ø–∏—Å–∞—Ç—å –æ—Å–∏. –†–∞–∑–º–µ—Ä –≥—Ä–∞—Ñ–∏–∫–∞ –º–æ–∂–Ω–æ –æ—Ç—Ä–µ–≥—É–ª–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º `figsize`.
#     
# –≠—Ç–∏ –∑–∞–º–µ—á–∞–Ω–∏—è –∫–∞—Å–∞—é—Ç—Å—è –≤—Å–µ—Ö –≥—Ä–∞—Ñ–∏–∫–æ–≤ –≤ —Ä–∞–±–æ—Ç–µ.</div>

# <div class="alert-success">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ V2 ‚úîÔ∏è</b>
# 
# –≠—Ç—É –Ω–∞–¥–ø–∏—Å—å –º–æ–∂–Ω–æ —É–±—Ä–∞—Ç—å, –µ—Å–ª–∏ –¥–æ–ø–∏—Å–∞—Ç—å `plt.show()` –≤ –∫–æ–Ω—Ü–µ –∫–æ–¥–∞ –≥—Ä–∞—Ñ–∏–∫–∞.</div>

# In[18]:


data[data['platform'] == 'Wii']['year_of_release'].hist(bins=11,alpha=0.5)
data[data['platform'] == 'PS2']['year_of_release'].hist(bins=11,alpha=0.5)


# –î–µ–ª–∞–µ–º –≤—ã–≤–æ–¥, —á—Ç–æ –≤ —Å–ª—É—á–∞–µ –ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏—è –ø—Ä–æ–¥–∞–∂ –≤ –æ–¥–Ω–æ–º –∏–∑ –≥–æ–¥–æ–≤ –∂–∏–∑–Ω–µ–Ω—ã–π —Ü–∏–∫–ª –ø–ª–∞—Ç—Ñ–æ—Ä–º –ø—Ä–µ—Ä—ã–≤–∞–µ—Ç—Å—è:—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –æ–Ω–∏ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –Ω–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã–º–∏ –ø–æ –æ—Ç–Ω–æ—à–µ–Ω–∏—é –∫ –±—É–¥—É—â–µ–º—É –≥–æ–¥—É. –†–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∏—Ö –Ω–µ —Å—Ç–æ–∏—Ç. –ñ–∏–∑–Ω–µ–Ω—ã–π —Ü–∏–∫–ª –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –≤ —Å—Ä–µ–¥–Ω–µ–º —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç 10 –ª–µ—Ç.

# <div class="alert-danger">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ ‚ùå</b>
# 
# –ó–∞ –∫–∞–∫–æ–π —Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω—ã–π —Å—Ä–æ–∫ –ø–æ—è–≤–ª—è—é—Ç—Å—è –Ω–æ–≤—ã–µ –∏ –∏—Å—á–µ–∑–∞—é—Ç —Å—Ç–∞—Ä—ã–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã? </div>

# <div class="alert-info">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å—Ç—É–¥–µ–Ω—Ç–∞</b>
# 
# –°–¥–µ–ª–∞–Ω–æ.</div>

# <div class="alert-success">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ V2 ‚úîÔ∏è</b>
# 
# –í–µ—Ä–Ω–æ, –≤ —Å—Ä–µ–¥–Ω–µ–º –∑–∞ 10 –ª–µ—Ç –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ —Ç–µ—Ä—è–µ—Ç –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å.</div>

# –í—ã—è—Å–Ω–∏–º –∏–≥—Ä—ã –∫–∞–∫–∏—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º –ø—Ä–æ–¥–∞—é—Ç—Å—è –ø–æ—Å–ª–µ–¥–Ω–∏–µ –ø—è—Ç—å –ª–µ—Ç.

# In[19]:


data_actual = data.query('year_of_release > 2014')

data_actual_platforms = data.query('year_of_release > 2014')['platform'].unique()
data_actual_platforms


# <div class="alert-danger">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ ‚ùå</b>
# 
# –î–ª—è —Ü–µ–ª–µ–π –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–¥–∞–∂ –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π –≥–æ–¥ –¥–∞–∂–µ –≤ —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã—Ö –±–∏–∑–Ω–µ—Å–∞—Ö —Ä–µ–¥–∫–æ –±–µ—Ä—É—Ç –¥–∞–Ω–Ω—ã–µ –±–æ–ª–µ–µ —á–µ–º –∑–∞ 2-3 –≥–æ–¥–∞. –ê –≤ —Ç–∞–∫–æ–π –¥–∏–Ω–∞–º–∏—á–Ω–æ –º–µ–Ω—è—é—â–µ–π—Å—è –∏–Ω–¥—É—Å—Ç—Ä–∏–∏, –∫–∞–∫ –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω—ã–µ –∏–≥—Ä—ã –∏ –≤–æ–≤—Å–µ –Ω–µ —Å—Ç–æ–∏—Ç –±—Ä–∞—Ç—å —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π –≤—Ä–µ–º–µ–Ω–Ω–æ–π –∏–Ω—Ç–µ—Ä–≤–∞–ª - –∏–Ω–∞—á–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∑–∞—Ö–≤–∞—Ç–∏—à—å —É–∂–µ –æ—Ç–∂–∏–≤—à–∏–µ —Ç—Ä–µ–Ω–¥—ã. </div>

# <div class="alert-info">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å—Ç—É–¥–µ–Ω—Ç–∞</b>
# 
# –ü–æ–Ω—è–ª, –ø—Ä–∏–Ω—è–ª, —Å–æ–≥–ª–∞—Å–µ–Ω.</div>

# <div class="alert-success">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ V2 ‚úîÔ∏è</b>
# 
# –¢–µ–ø–µ—Ä—å –∞–∫—Ç—É–∞–ª—å–Ω—ã–π –ø–µ—Ä–∏–æ–¥ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∏ –ø—Ä–æ–≥–Ω–æ–∑–∞ –≤—ã–±—Ä–∞–Ω –≤–µ—Ä–Ω–æ.</div>

# –ü–æ–ø–æ–¥—Ä–æ–±–Ω–µ–µ –≤–∑–≥–ª—è–Ω–µ–º –Ω–∞ –ø—Ä–æ–¥–∞–∂–∏ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 5 –ª–µ—Ç –Ω–∞ —ç—Ç–∏—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö.

# In[20]:


#data[data['platform'] == 'PS3'].groupby('year_of_release')['total_sales'].sum()
#data_actual.groupby(['year_of_release','platform'])['total_sales'].sum().hist('platform')
#data_actual[data_actual['platform'] =='Wii'].pivot_table(index='year_of_release', values='total_sales')
data_actual.groupby(['platform','year_of_release'])['total_sales'].sum()


# In[21]:


data[data['platform'] == 'PS3']['year_of_release'].hist(alpha = 0.5,label='PS3')

data[data['platform'] == 'PS2']['year_of_release'].hist(alpha = 0.5)

data[data['platform'] == 'X360']['year_of_release'].hist(alpha = 0.5)

data[data['platform'] == 'PS4']['year_of_release'].hist(alpha = 0.5)

data[data['platform'] == '3DS']['year_of_release'].hist(alpha = 0.5)

data[data['platform'] == 'XOne']['year_of_release'].hist(alpha = 0.5)


# –í—ã–±–µ—Ä–µ–º –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã —Å –Ω–∞–∏–±–æ–ª—å—à–∏–º–∏ —Å—É–º–∞—Ä–Ω—ã–º–∏ –ø—Ä–æ–¥–∞–∂–∞–º–∏

# In[22]:


data_actual.pivot_table(index='year_of_release', values='total_sales', columns='platform', aggfunc = sum)#.plot(kind='hist', figsize=[15,15])


# –≠—Ç–æ 3DS —Å 15.14, Xone 26.15 –∏ PS4 69.25. –ê —Å–∞–º—ã–º–∏ –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–Ω—ã–º–∏ –∏–∑ –Ω–∏—Ö —è–≤–ª—è—é—Ç—Å—è –≤—Å–≤—è–∑–∏ —Å–æ —Ç–∞–±–∏–ª—å–Ω–æ —Ä–∞—Å—Ç—É—â–∏–º–∏ –ø—Ä–æ–¥–∞–∂–∞–º–∏ –∏ –Ω–æ–≤–∏–∑–Ω–æ–π —è–≤–ª—è—é—Ç—Å—è: PS4 –∏ XOne.

# <div class="alert-warning">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ ‚ö†Ô∏è</b>
# 
# –≠—Ç–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã —Ç—ã –æ–ø—Ä–µ–¥–µ–ª—è–µ—à—å –∫–∞–∫ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –ø—Ä–∏–±—ã–ª—å–Ω—ã–µ?</div>

# <div class="alert-info">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å—Ç—É–¥–µ–Ω—Ç–∞</b>
# 
# –î–∞, –¥–æ–ø–æ–ª–Ω–∏–ª.</div>

# <div class="alert-success">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ V2 ‚úîÔ∏è</b>
# 
# –° –≤—ã–±–æ—Ä–æ–º –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –ø—Ä–∏–±—ã–ª—å–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º —Å–æ–≥–ª–∞—Å–µ–Ω.</div>

# –ü–ª–∞—Ç—Ñ–æ—Ä–º—ã —É –∫–æ—Ç–æ—Ä—ã—Ö –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –ø—Ä–æ–¥–∞–∂–∏ –ø–æ—Å–ª–µ–¥–Ω–∏–π –≥–æ–¥ –º–æ–∂–µ–º –∏—Å–∫–ª—é—á–∏—Ç—å –∏–∑ –∞–∫—Ç—É–∞–ª—å–Ω–æ–π –≤—ã–±–æ—Ä–∫–∏.

# In[23]:


data_actual=data.query('platform == "3DS" or platform == "PC" or platform == "PS3" or platform == "PS4" or platform == "PSV" or platform == "Wii" or platform == "WiiU" or platform == "X360" or platform == "XOne"')


# –í—Å–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –≤ 2016 –≥–æ–¥—É —É–ø–∞–ª–∏ –ø–æ –ø—Ä–æ–¥–∞–∂–∞–º. –°–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ –¥–∞–Ω–Ω—ã–µ –ø–æ 2016 –≥–æ–¥—É –Ω–µ –ø–æ–ª–Ω—ã–µ.
# –ù–∞–∏–±–æ–ª–µ–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã PS4, XOne. –ü—Ä–æ–¥–∞–∂–∏ –Ω–∞ –Ω–∏—Ö –ø–æ—Å–ª–µ–¥–Ω–∏–µ 3 –≥–æ–¥–∞ —Ä–∞—Å—Ç—É—Ç. –í —Ç–æ –≤—Ä–µ–º—è –∫–∞–∫ –Ω–∞ –¥–æ–≤–æ–ª—å–Ω–æ –∞–∫—Ç—É–∞–ª—å–Ω–æ–π –Ω–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç 3DS –Ω–∞—á–∞–ª–∏ —Å–Ω–∏–∂–∞—Ç—å—Å—è –µ—â–µ –≤ 2014 –≥–æ–¥—É.

# –ü–æ—Å—Ç–æ—Ä–∏–º –≥—Ä–∞—Ñ–∏–∫ –¥–∏–∞–≥—Ä–∞–º–º—ã —Ä–∞–∑–º–∞—Ö–∞ –ø–æ –≥–ª–æ–±–∞–ª—å–Ω—ã–º –ø—Ä–æ–¥–∞–∂–∞–º –∏–≥—Ä –≤ —Ä–∞–∑–±–∏–≤–∫–µ –ø–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–º.

# In[24]:


#data_actual.pivot_table(index='platform', values='total_sales', aggfunc = sum).boxplot()#.plot(kind='hist', figsize=[15,15])
#data_actual.groupby('platform')['total_sales'].sum()
#data_actual.boxplot(figsize=(10,5))
#plt.ylim(-5, 100)
#data_actual.pivot_table(index=['platform', 'name'], values='total_sales').boxplot(x='platform','name')
sns.boxplot(data=data_actual, y='total_sales', x='platform')
plt.ylim(0, 3)
plt.figure(figsize=(25,9))


# –ú–µ–¥–∏–∞–Ω–∞ —É –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —É –ø–µ—Ä–≤–æ–≥–æ –∫–≤–∞—Ä—Ç–∏–ª—è. –ù–∞ —Ä–∞–∑–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç –≤—ã–±—Ä–æ—Å—ã –≤ —Å–æ —Å—Ç–æ—Ä–æ–Ω—ã 3 –∫–≤–∞—Ä—Ç–∏–ª—è. –ë–æ–ª—å—à–µ –≤—Å–µ–≥–æ –≤—ã–±—Ä–æ—Å–æ–≤ —É X360,PS4,PS3,XOne,Wii. –î–µ–ª–∞–µ–º –≤—ã–≤–æ–¥, —á—Ç–æ —Ç–∞–º –∏–º–µ—é—Ç—Å—è –∫—Ä–∞–π–Ω–µ —É–¥–∞—á–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã.

# <div class="alert-danger">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ ‚ùå</b>
# 
# –ü–æ –∑–∞–¥–∞–Ω–∏—é –Ω–∞–¥–æ –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –≥—Ä–∞—Ñ–∏–∫ ¬´—è—â–∏–∫ —Å —É—Å–∞–º–∏¬ª –ø–æ –≥–ª–æ–±–∞–ª—å–Ω—ã–º –ø—Ä–æ–¥–∞–∂–∞–º –∏–≥—Ä –≤ —Ä–∞–∑–±–∏–≤–∫–µ –ø–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–º. –¢–æ –µ—Å—Ç—å –Ω–∞ –æ–¥–Ω–æ–º –≥—Ä–∞—Ñ–∏–∫–µ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º - –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –º–µ–¥–∏–∞–Ω, –º–µ–∂–∫–≤–∞—Ä—Ç–∏–ª—å–Ω—ã—Ö —Ä–∞–∑–º–∞—Ö–æ–≤ –∏ –≤—ã–±—Ä–æ—Å–æ–≤. –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–º –∏ –≥–æ–¥–∞–º –Ω–µ –Ω—É–∂–Ω–∞, –Ω–∞–º –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã –≤—Å–µ –ø—Ä–æ–¥–∞–∂–∏ –∏–≥—Ä.</div>

# <div class="alert-info">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å—Ç—É–¥–µ–Ω—Ç–∞</b>
# 
# –°–¥–µ–ª–∞–ª.</div>

# <div class="alert-success">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ V2 ‚úîÔ∏è</b>
# 
# –û–∫. –¢—É—Ç —Ç–∞–∫–∂–µ —Å—Ç–æ–∏—Ç —É–≤–µ–ª–∏—á–∏—Ç—å —Ä–∞–∑–º–µ—Ä –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–ª—è –Ω–∞–≥–ª—è–¥–Ω–æ—Å—Ç–∏.</div>

# In[25]:


print('–ö–æ—Ä–µ–ª—è—Ü–∏—è –ø—Ä–æ–¥–∞–∂ –∏ –æ—Ü–µ–Ω–∫–∏ –∫—Ä–∏—Ç–∏–∫–∞–º–∏')
data_actual[data_actual['platform'] == 'PS3'].pivot_table(index='total_sales', values='critic_score').plot(grid=True, style='o', figsize=(10,5), alpha=0.7)
plt.show()
print('–ö–æ—Ä—Ä–µ–ª—è—Ü–∏—è —Ä–∞–≤–Ω–∞:',data_actual[data_actual['platform'] == 'PS3']['total_sales'].corr(data_actual[data_actual['platform'] == 'PS3']['critic_score']))


# In[26]:


print('–ö–æ—Ä–µ–ª—è—Ü–∏—è –ø—Ä–æ–¥–∞–∂ –∏ –æ—Ü–µ–Ω–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏')
data_actual[data_actual['platform'] == 'PS3'].loc[~data_actual['user_score'].isnull() & ~data_actual['critic_score'].isna()].pivot_table(index='total_sales', values='user_score').plot(grid=True, style='o', figsize=(10,5), alpha=0.7)
plt.show()
print('–ö–æ—Ä—Ä–µ–ª—è—Ü–∏—è —Ä–∞–≤–Ω–∞:',data_actual[data_actual['platform'] == 'PS3']['total_sales'].corr(data_actual[data_actual['platform'] == 'PS3']['user_score']))


# <div class="alert-danger">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ ‚ùå</b>
# 
# –ê –ø–æ—á–µ–º—É —Ç—ã —Ä–µ—à–∏–ª —Å—Ç—Ä–æ–∏—Ç—å –¥–∏–∞–≥—Ä–∞–º–º—É —Ä–∞—Å—Å–µ—è–Ω–∏—è –ø–æ —Å–≤–æ–¥–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ? –¢—É–¥–∞ –ø–æ–ø–∞–¥–∞—é—Ç —É—Å—Ä–µ–¥–Ω–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ –≤–æ–æ–±—â–µ –≤ —á–µ–º –µ–µ —Å–º—ã—Å–ª? üëá
# 
# –ö—Ä–æ–º–µ —Ç–æ–≥–æ, –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞ –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–∏ –Ω—É–∂–Ω–æ —É–±—Ä–∞—Ç—å –ø—Ä–æ–ø—É—Å–∫–∏ –∏–∑ –≤—ã–±–æ—Ä–∫–∏.</div>

# <div class="alert-info">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å—Ç—É–¥–µ–Ω—Ç–∞</b>
# 
# –ü—Ä–æ–ø—É—Å–∫–∏ –∏ –Ω—É–ª–µ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è —è —É–±—Ä–∞–ª –∞ –¥–∏–∞–≥—Ä–∞–º–º–∞ —ç—Ç–∞ –ø—Ä—è–º –≤ –ø—Ä–æ–µ–∫—Ç–µ –æ–ø–∏—Å–∞–Ω–∞..."–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ, –∫–∞–∫ –≤–ª–∏—è—é—Ç –Ω–∞ –ø—Ä–æ–¥–∞–∂–∏ –≤–Ω—É—Ç—Ä–∏ –æ–¥–Ω–æ–π –ø–æ–ø—É–ª—è—Ä–Ω–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –æ—Ç–∑—ã–≤—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –∫—Ä–∏—Ç–∏–∫–æ–≤. –ü–æ—Å—Ç—Ä–æ–π—Ç–µ –¥–∏–∞–≥—Ä–∞–º–º—É —Ä–∞—Å—Å–µ—è–Ω–∏—è –∏ –ø–æ—Å—á–∏—Ç–∞–π—Ç–µ –∫–æ—Ä—Ä–µ–ª—è—Ü–∏—é –º–µ–∂–¥—É –æ—Ç–∑—ã–≤–∞–º–∏ –∏ –ø—Ä–æ–¥–∞–∂–∞–º–∏. –°—Ñ–æ—Ä–º—É–ª–∏—Ä—É–π—Ç–µ –≤—ã–≤–æ–¥—ã". –Ø –∏—Å–ø—Ä–∞–≤–ª—è—Ç—å –≤—Å–µ –Ω–∞—á–∞–ª–∞ –ø–æ—Ç–æ–º –≤ –∑–∞–¥–∞–Ω–∏–µ –ø–æ—Å–º–æ—Ç—Ä–µ–ª.)</div>

# <div class="alert-warning">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ V2 ‚ö†Ô∏è</b>
# 
# –ü—Ä–∞–≤–∏–ª—å–Ω–µ–µ –±—ã–ª–æ –±—ã —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ —Ç–∞–∫: üëá</div>

# In[49]:


# –ö–æ–¥ —Ä–µ–≤—å—é–µ—Ä–∞

ps4_data = data_actual.query('platform == "PS4" & user_score > 0 & critic_score > 0')

# –î–∏–∞–≥—Ä–∞–º–º–∞ –æ—Ü–µ–Ω–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –ø—Ä–æ–¥–∞–∂–∏
plt.figure(figsize = (15, 5))
sns.scatterplot(x = 'user_score', y = 'total_sales', data = ps4_data)
plt.show()
print('–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–∏:', ps4_data['user_score'].corr(ps4_data['total_sales']))

# –î–∏–∞–≥—Ä–∞–º–º–∞ –æ—Ü–µ–Ω–∫–∏ –∫—Ä–∏—Ç–∏–∫–æ–≤ –∏ –ø—Ä–æ–¥–∞–∂–∏
plt.figure(figsize = (15, 5))
sns.scatterplot(x = 'critic_score', y = 'total_sales', data = ps4_data)
plt.show()
print('–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–∏:', ps4_data['critic_score'].corr(ps4_data['total_sales']))


# In[27]:


# –ö–æ–¥ —Ä–µ–≤—å—é–µ—Ä–∞
data_actual.loc[data['platform'] == 'PS3'].pivot_table(index='total_sales', values='user_score')


# –ö–æ—Ä—Ä–µ–ª—è—Ü–∏—è –ø–æ –æ—Ü–µ–Ω–∫–∞–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–∏–∑–∫–∞—è, –∞ –ø–æ –æ—Ü–µ–Ω–∫–∞ –∫—Ä–∏—Ç–∏–∫–æ–≤ —Å—Ä–µ–¥–Ω—è—è, —á—Ç–æ –≥–æ–≤–æ—Ä–∏—Ç –Ω–∞–º –æ —Ç–æ–º, —á—Ç–æ –¥–ª—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–≥–æ —É—Å–ø–µ—Ö–∞ –∏–≥—Ä—ã —ç—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–µ –ø–µ—Ä–≤–æ—Å—Ç–µ–ø–µ–Ω–Ω—ã–µ.

# In[28]:


print('–ö–æ—Ä–µ–ª—è—Ü–∏—è –ø—Ä–æ–¥–∞–∂ –∏ –æ—Ü–µ–Ω–∫–∏ –∫—Ä–∏—Ç–∏–∫–∞–º–∏')
data_actual[data_actual['platform'] == 'XOne'].loc[~data_actual['user_score'].isnull() & ~data_actual['critic_score'].isna()].pivot_table(index='total_sales', values='critic_score').plot(grid=True, style='o', figsize=(10,5), alpha=0.7)
plt.show()
print('–ö–æ—Ä—Ä–µ–ª—è—Ü–∏—è —Ä–∞–≤–Ω–∞:',data_actual[data_actual['platform'] == 'XOne']['total_sales'].corr(data_actual[data_actual['platform'] == 'XOne']['critic_score']))


# In[29]:


print('–ö–æ—Ä–µ–ª—è—Ü–∏—è –ø—Ä–æ–¥–∞–∂ –∏ –æ—Ü–µ–Ω–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏')
data_actual.loc[data['platform'] == 'XOne'].loc[~data_actual['user_score'].isnull() & ~data_actual['critic_score'].isna()].pivot_table(index='total_sales', values='user_score').plot(grid=True, style='o', figsize=(10,5), alpha=0.7)
plt.show()
print('–ö–æ—Ä—Ä–µ–ª—è—Ü–∏—è —Ä–∞–≤–Ω–∞:',data_actual[data_actual['platform'] == 'XOne']['total_sales'].corr(data_actual[data_actual['platform'] == 'XOne']['user_score']))


# In[30]:


print('–ö–æ—Ä–µ–ª—è—Ü–∏—è –ø—Ä–æ–¥–∞–∂ –∏ –æ—Ü–µ–Ω–∫–∏ –∫—Ä–∏—Ç–∏–∫–∞–º–∏')
data_actual[data_actual['platform'] == '3DS'].loc[~data_actual['user_score'].isnull() & ~data_actual['critic_score'].isna()].pivot_table(index='total_sales', values='critic_score').plot(grid=True, style='o', figsize=(10,5), alpha=0.7)
plt.show()
print('–ö–æ—Ä—Ä–µ–ª—è—Ü–∏—è —Ä–∞–≤–Ω–∞:',data_actual[data_actual['platform'] == '3DS']['total_sales'].corr(data_actual[data_actual['platform'] == '3DS']['critic_score']))


# In[31]:


print('–ö–æ—Ä—Ä–µ–ª—è—Ü–∏—è –ø—Ä–æ–¥–∞–∂ –∏ –æ—Ü–µ–Ω–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏')
data_actual.loc[data['platform'] == '3DS'].loc[~data_actual['user_score'].isnull() & ~data_actual['critic_score'].isna()].pivot_table(index='total_sales', values='user_score').plot(grid=True, style='o', figsize=(10,5), alpha=0.7)
plt.show()
print('–ö–æ—Ä—Ä–µ–ª—è—Ü–∏—è —Ä–∞–≤–Ω–∞:',data_actual[data_actual['platform'] == '3DS']['total_sales'].corr(data_actual[data_actual['platform'] == '3DS']['user_score']))


# –ö–æ—Ä—Ä–µ–ª—è—Ü–∏–∏ —ç—Ç–∏—Ö –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π –ø–æ –¥—Ä—É–≥–∏–º –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–º —Å—Ö–æ–∂–∏.

# In[32]:


data_actual.pivot_table(index='genre', values='total_sales', aggfunc='count').sort_values(by='total_sales',ascending=False)#.plot(grid=True, style='o', figsize=(10,5), alpha=0.7)


# –ë–æ–ª—å—à–µ –≤—Å–µ–≥–æ —Ä–µ–ª–∏–∑–æ–≤ –≤ –∂–∞–Ω—Ä–µ Action, –∞ —Å–∞–º—ã–π —Ä–µ–¥–∫–æ –≤—ã–ø—É—Å–∫–∞–µ–º—ã–π –∂–∞–Ω—Ä - Puzzle

# In[33]:


print(data_actual.pivot_table(index='genre', values='total_sales', aggfunc='sum').sort_values(by='total_sales',ascending=False))

data_actual.pivot_table(index='genre', values='total_sales', aggfunc='sum').sort_values(by='total_sales',ascending=False)


# In[34]:


data_actual.pivot_table(index='genre', values='total_sales', aggfunc='mean').sort_values(by='total_sales',ascending=False)


# In[35]:


data_actual.pivot_table(index='genre', values='total_sales', aggfunc='median').sort_values(by='total_sales',ascending=False)


# –ñ–∞–Ω—Ä Action –ø–æ –æ–±—â–µ–º—É –∫–æ–ª–ª–∏—á–µ—Å—Ç–≤—É –ø—Ä–æ–¥–∞–∂ —Ç–∞–∫–∂–µ –ª–∏–¥–∏—Ä—É–µ—Ç, –∞ Puzzle —Ç–∞–∫–∂–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–º –º–µ—Å—Ç–µ. –ê –≤–æ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ —Ö–æ—Ä–æ—à–∏–µ –ø—Ä–æ–¥–∞–∂–∏(–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –ø–æ —Å—Ä–µ–¥–Ω–Ω–µ–º—É –∑–Ω–∞—á–µ–Ω–∏—é –∏ –º–µ–¥–∏–∞–Ω–µ) —É –∂–∞–Ω—Ä–∞ Shooter. –ò–≥—Ä—ã –∏–º–µ–Ω–Ω–æ —Ç–∞–∫–æ–≥–æ –∂–∞–Ω—Ä–∞ —Å—Ç–æ–∏—Ç –≤—ã—Å—Ç–∞–≤–ª—è—Ç—å –Ω–∞ –ø–æ–ª–∫–∏ –º–∞–≥–∞–∑–∏–Ω–∞.

# <div class="alert-success">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ V2 ‚úîÔ∏è</b>
# 
# –í–µ—Ä–Ω–æ, —ç—Ç–æ –≥–æ–≤–æ—Ä–∏—Ç –æ —Ç–æ–º, —á—Ç–æ –≤ —Å—Ä–µ–¥–Ω–µ–º –∫–∞–∂–¥–∞—è –∏–≥—Ä–∞ –∂–∞–Ω—Ä–∞ Shooter –ø—Ä–æ–¥–∞–µ—Ç—Å—è –≤ –±–æ–ª—å—à–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤.</div>

# <div class="alert-danger">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ ‚ùå</b>
#     
# –¢—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏–ª –ª–∏–¥–µ—Ä–∞ –∏ –∞—É—Ç—Å–∞–π–¥–µ—Ä–∞ –ø—Ä–æ–¥–∞–∂. –ù–æ –ø–æ –∑–∞–¥–∞–Ω–∏—é —Ç–∞–∫–∂–µ –Ω—É–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –Ω–∞–∏–±–æ–ª–µ–µ –ø—Ä–∏–±—ã–ª—å–Ω—ã–π –∂–∞–Ω—Ä.
# 
# –û–±—Ä–∞—Ç–∏ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –æ–±—â–∏–µ –ø—Ä–æ–¥–∞–∂–∏ - –ø–ª–æ—Ö–∞—è –º–µ—Ç—Ä–∏–∫–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞ –Ω–∞–∏–±–æ–ª–µ–µ –ø—Ä–∏–±—ã–ª—å–Ω–æ–≥–æ –∂–∞–Ω—Ä–∞. –ó–∞ –≤—ã—Å–æ–∫–∏–º–∏ –ø–æ–∫–∞–∑–∞—Ç–µ–ª—è–º–∏ –æ–±—â–∏—Ö –ø—Ä–æ–¥–∞–∂ –º–æ–∂–µ—Ç —Å–∫—Ä—ã–≤–∞—Ç—å—Å—è –º–Ω–æ–∂–µ—Å—Ç–≤–æ –º–µ–ª–∫–∏—Ö –∏–≥—Ä —Å –Ω–∏–∑–∫–∏–º–∏ –ø—Ä–æ–¥–∞–∂–∞–º–∏. –ò–ª–∏ 2-3 –∑–≤–µ–∑–¥—ã –∏ –∫—É—á–∞ –ø—Ä–æ–≤–∞–ª–æ–≤. –õ—É—á—à–µ –Ω–∞–π—Ç–∏ –∂–∞–Ω—Ä, –≥–¥–µ –∏–≥—Ä—ã —Å—Ç–∞–±–∏–ª—å–Ω–æ –ø—Ä–∏–Ω–æ—Å—è—Ç –≤—ã—Å–æ–∫–∏–π –¥–æ—Ö–æ–¥ - –¥–ª—è —ç—Ç–æ–≥–æ —Å—Ç–æ–∏—Ç —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ä–µ–¥–Ω–∏–µ –∏–ª–∏ –º–µ–¥–∏–∞–Ω–Ω—ã–µ –ø—Ä–æ–¥–∞–∂–∏.</div>

# <div class="alert-warning">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ ‚ö†Ô∏è</b>
# 
# –ù–µ –∑–∞–±—ã–≤–∞–π –ø–æ–∂–∞–ª—É–π—Å—Ç–∞ –∑–∞–∫–∞–Ω—á–∏–≤–∞—Ç—å –∫–∞–∂–¥—ã–π —à–∞–≥ —Ä–∞–±–æ—Ç—ã –∫—Ä–∞—Ç–∫–∏–º –≤—ã–≤–æ–¥–æ–º.</div>

# <div class="alert-info">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å—Ç—É–¥–µ–Ω—Ç–∞</b>
# 
# –°–¥–µ–ª–∞–ª</div>

# ## –û–ø—Ä–µ–¥–µ–ª–∏–º—Å—è —Å –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è–º–∏ –ø–æ —Ä–µ–≥–∏–æ–Ω–∞–º

# ### –°–µ–≤–µ—Ä–Ω–∞—è –ê–º–µ—Ä–∏–∫–∞

# In[36]:


display(data_actual.pivot_table(index='genre', values='na_sales', aggfunc='sum').sort_values(by='na_sales',ascending=False).head(5))
data_actual.pivot_table(index='genre', values='na_sales', aggfunc='sum').sort_values(by='na_sales',ascending=False).head(5).plot()
#data_actual.pivot_table(index='genre', values='na_sales', aggfunc='sum').sort_values(by='na_sales',ascending=False).plot()
display(data_actual.pivot_table(index='platform', values='na_sales', aggfunc='sum').sort_values(by='na_sales',ascending=False).head(5))
data_actual.pivot_table(index='platform', values='na_sales', aggfunc='sum').sort_values(by='na_sales',ascending=False).head(5).plot()
display(data_actual.pivot_table(index='rating', values='na_sales', aggfunc='sum').sort_values(by='na_sales',ascending=False))
data_actual.pivot_table(index='rating', values='na_sales', aggfunc='sum').sort_values(by='na_sales',ascending=False).plot()


# <div class="alert-warning">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ ‚ö†Ô∏è</b>
# 
# –í —Ü–µ–ª–æ–º, –ø–æ–¥—Ö–æ–¥ —É —Ç–µ–±—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π, –Ω–æ –∏–∑-–∑–∞ —à–∏—Ä–æ–∫–∏—Ö –≥—Ä–∞–Ω–∏—Ü –∞–∫—Ç—É–∞–ª—å–Ω–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–ø–∞–ª–∏ —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã, –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ –Ω–∏—Ö –ø—Ä–∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏ —Ä–µ–∫–ª–∞–º–Ω–æ–π –∫–∞–º–ø–∞–Ω–∏–∏ –∑–∞–∫–∞–∑—á–∏–∫—É –Ω–µ–ª—å–∑—è.
# 
# –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –∏ –∂–∞–Ω—Ä—ã –Ω—É–∂–Ω–æ —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –≤ —Ä–∞–º–∫–∞—Ö –∞–∫—Ç—É–∞–ª—å–Ω–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞.
# 
# –ö—Ä–æ–º–µ —Ç–æ–≥–æ, –¥–ª—è –Ω–∞–≥–ª—è–¥–Ω–æ—Å—Ç–∏ —Å—Ç–æ–∏—Ç –¥–æ–±–∞–≤–∏—Ç—å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏.</div>

# <div class="alert-info">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å—Ç—É–¥–µ–Ω—Ç–∞</b>
# 
# –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é –¥–æ–±–∞–≤–∏–ª. –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä–∞–º–∫–∏ –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏ –∏–∑–º–µ–Ω–∏–ª –¥–æ 2 –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –ª–µ—Ç.</div>

# <div class="alert-success">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ V2 ‚úîÔ∏è</b>
# 
# –•–æ—Ä–æ—à–æ. –¢–∏–ø –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ —Å—Ç–æ–∏–ª–æ –±—ã –≤—ã–±—Ä–∞—Ç—å —Å—Ç–æ–ª–±—á–∞—Ç—É—é –¥–∏–∞–≥—Ä–∞–º–º—É. –ê —Ç–∞–∫–∂–µ –≤–∑—è—Ç—å —Ç–æ–ª—å–∫–æ —Ç–æ–ø-5</div>

# In[52]:


# –ö–æ–¥ —Ä–µ–≤—å—é–µ—Ä–∞
data_actual.pivot_table(index='rating', values='na_sales', aggfunc='sum')    .sort_values(by='na_sales',ascending=False).head(5).plot(kind = 'bar')
plt.xticks(rotation = 0)
plt.show()


# –°–∞–º—ã–µ –ø—Ä–æ–¥–∞–≤–∞–µ–º—ã–µ –∏–≥—Ä—ã —Å —Ä–µ–π—Ç–∏–Ω–≥–æ–º M –∏ E. –ü—Ä–æ–¥–∞–∂–∏ "–¥–ª—è –≤—Å–µ—Ö" –ª–∏—à—å –Ω–∞ –≤—Ç–æ—Ä–æ–º –º–µ—Å—Ç–µ. –í–µ—Ä–æ—è—Ç–Ω–µ–µ –≤—Å–µ–≥–æ –ø—Ä–∏—Å–≤–æ–µ–Ω–∏–µ —Ä–µ–π—Ç–∏–Ω–≥–∞ M –∏ –Ω–∞–ª–∏—á–∏–µ "–∑–∞–ø—Ä–µ—â–µ–Ω–Ω–æ–≥–æ –¥–ª—è –¥–µ—Ç–µ–π" –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –≤—ã–∑—ã–≤–∞–µ—Ç –∏–Ω—Ç–µ—Ä–µ—Å —É –ø—É–±–ª–∏–∫–∏.
# –ü—Ä–µ–≤–∞–ª–∏—Ä—É—é—Ç –ø—Ä–æ–¥–∞–∂–∏ Action –Ω–∞ Xbox360.

# In[37]:


display(data_actual.pivot_table(index='genre', values='eu_sales', aggfunc='sum').sort_values(by='eu_sales',ascending=False).head(5))
data_actual.pivot_table(index='genre', values='eu_sales', aggfunc='sum').sort_values(by='eu_sales',ascending=False).head(5).plot()
#data_actual.pivot_table(index='genre', values='na_sales', aggfunc='sum').sort_values(by='na_sales',ascending=False).plot()
display(data_actual.pivot_table(index='platform', values='eu_sales', aggfunc='sum').sort_values(by='eu_sales',ascending=False).head(5))
data_actual.pivot_table(index='platform', values='eu_sales', aggfunc='sum').sort_values(by='eu_sales',ascending=False).head(5).plot()
display(data_actual.pivot_table(index='rating', values='eu_sales', aggfunc='sum').sort_values(by='eu_sales',ascending=False))
data_actual.pivot_table(index='rating', values='eu_sales', aggfunc='sum').sort_values(by='eu_sales',ascending=False).plot()


# –í –∂–∞–Ω—Ä–∞—Ö –≤ –ï–≤—Ä–æ–ø–µ –≤—Å–µ –ø–æ—Ö–æ–∂–µ –Ω–∞ –°–µ–≤–µ—Ä–Ω—É—é –ê–º–µ—Ä–∏–∫—É, –∞ –≤–æ—Ç –≤ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö PS3 –≤—ã—à–ª–∞ –Ω–∞ –ø–µ—Ä–≤–æ–µ –º–µ—Å—Ç–æ. –ü—Ä–æ–¥–∞–∂–∏ –ø–æ —Ä–µ–π—Ç–∏–Ω–≥—É —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–º –æ–±—Ä–∞–∑–æ–º.

# In[38]:


display(data_actual.pivot_table(index='genre', values='jp_sales', aggfunc='sum').sort_values(by='jp_sales',ascending=False).head(5))
#data_actual.pivot_table(index='genre', values='na_sales', aggfunc='sum').sort_values(by='na_sales',ascending=False).plot()
display(data_actual.pivot_table(index='platform', values='jp_sales', aggfunc='sum').sort_values(by='jp_sales',ascending=False).head(5))
display(data_actual.pivot_table(index='rating', values='jp_sales', aggfunc='sum').sort_values(by='jp_sales',ascending=False))


# –í –Ø–ø–æ–Ω–∏–∏ —Å–æ–≤—Å–µ–º –¥—Ä—É–≥–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤–æ –≤—Å–µ–º. –í –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö –∑–¥–µ—Å—å –ª–∏–¥–∏—Ä—É–µ—Ç 3DS, –∞ –≤ –∂–∞–Ω—Ä–∞—Ö Role-Playing. –ò–≥—Ä—ã —Å —Å–∞–º—ã–º –ø—Ä–æ–¥–∞–≤–∞–µ–º—ã–º —Ä–µ–π—Ç–∏–Ω–≥–æ–º - "–ë–µ–∑ —Ä–µ–π—Ç–∏–Ω–≥–∞".

# <div class="alert-danger">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ ‚ùå</b>
# 
# –ü—Ä–∏ —Ç–≤–æ–µ–º —Å–ø–æ—Å–æ–±–µ –ø–æ–¥—Å—á–µ—Ç–∞ –∏–≥—Ä—ã –±–µ–∑ —Ä–µ–π—Ç–∏–Ω–≥–∞ –æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏—Å–∫–ª—é—á–µ–Ω–Ω—ã–º–∏ –∏–∑ –∞–Ω–∞–ª–∏–∑–∞. –ù–æ –ø—Ä–æ–¥–∞–∂–∏ –∏–º–µ–Ω–Ω–æ —ç—Ç–∏—Ö –∏–≥—Ä –º–æ–≥—É—Ç —É–∫–∞–∑–∞—Ç—å –Ω–∞ –∫–ª—é—á–µ–≤–æ–µ —Ä–∞–∑–ª–∏—á–∏–µ –≤ —Ä–µ–≥–∏–æ–Ω–∞—Ö.</div>

# <div class="alert-info">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å—Ç—É–¥–µ–Ω—Ç–∞</b>
# 
# –î–æ–±–∞–≤–∏–ª. –î–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –≤ —è–ø–æ–Ω–∏–∏ –∏–≥—Ä—ã –±–µ–∑ —Ä–µ–π—Ç–∏–Ω–≥–∞ –ø—Ä–æ–¥–∞–≤–∞–ª–∏—Å—å –ª—É—á—à–µ –≤—Å–µ–≥–æ.</div>

# <div class="alert-success">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ V2 ‚úîÔ∏è</b>
# 
# –ü—Ä–∞–≤–∏–ª—å–Ω–æ, —Ç–µ–ø–µ—Ä—å –≤–∏–¥–Ω–æ, —á—Ç–æ —Ä–µ–π—Ç–∏–Ω–≥ ESRB –Ω–µ –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è –≤ –Ø–ø–æ–Ω–∏–∏.</div>

# ## –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–∏–ø–æ—Ç–µ–∑

# ### –ì–∏–ø–æ—Ç–µ–∑–∞: —Å—Ä–µ–¥–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ä–µ–π—Ç–∏–Ω–≥–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º Xbox One –∏ PC —Ä–∞–≤–Ω—ã
# 
# H_0: –°—Ä–µ–¥–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ä–µ–π—Ç–∏–Ω–≥–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º Xbox One –∏ PC —Ä–∞–≤–Ω—ã H_1: –°—Ä–µ–¥–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Ä–µ–π—Ç–∏–Ω–≥ Xbox One ‚â† PC

# In[39]:


pc_rate = data_actual.loc[data_actual['platform'] == 'PC'].loc[data_actual['user_score'] > 0]['user_score']
xbox_rate = data_actual[data_actual['platform'] == 'XOne'].loc[data_actual['user_score'] > 0]['user_score']
results = st.ttest_ind(
    pc_rate,
    xbox_rate,
    equal_var = False
    
)
alpha = 0.05
print('p-–∑–Ω–∞—á–µ–Ω–∏–µ', results.pvalue)

if results.pvalue < alpha:
    print("–û—Ç–≤–µ—Ä–≥–∞–µ–º –Ω—É–ª–µ–≤—É—é –≥–∏–ø–æ—Ç–µ–∑—É")
else:
    print("–ù–µ –ø–æ–ª—É—á–∏–ª–æ—Å—å –æ—Ç–≤–µ—Ä–≥–Ω—É—Ç—å –Ω—É–ª–µ–≤—É—é –≥–∏–ø–æ—Ç–µ–∑—É")


# <div class="alert-danger">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ ‚ùå</b>
# 
# –ú–µ—Ç–æ–¥ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≥–∏–ø–æ—Ç–µ–∑—ã –≤—ã–±—Ä–∞–Ω –≤–µ—Ä–Ω–æ. –í –∑–Ω–∞—á–µ–Ω–∏—è—Ö –æ—Ü–µ–Ω–æ–∫ –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –Ω—É–ª–µ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π, —Ç–æ–≥–¥–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –±—É–¥–µ—Ç –¥–æ—Å—Ç–æ–≤–µ—Ä–Ω—ã–π.</div>

# <div class="alert-info">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å—Ç—É–¥–µ–Ω—Ç–∞</b>
# 
# –ò —Ç–∞–º –∏ —Ç–∞–º –∏—Å–ø—Ä–∞–≤–∏–ª –∏ –≥—Ä–∞—Ñ–∏–∫–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å.</div>

# <div class="alert-warning">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ V2 ‚ö†Ô∏è</b>
# 
# –ü—Ä–æ–ø—É—Å–∫–∏ –∏ tbd –≤ –æ—Ü–µ–Ω–∫–∞—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –±—ã–ª–∏ –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã –Ω–µ —Å–æ–≤—Å–µ–º –≤–µ—Ä–Ω–æ, —É –º–µ–Ω—è –ø–æ–ª—É—á–∏–ª—Å—è –¥—Ä—É–≥–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ç–µ—Å—Ç–∞. üëá
# </div>

# In[72]:


# –ö–æ–¥ —Ä–µ–≤—å—é–µ—Ä–∞
data_rev = pd.read_csv('/datasets/games.csv')
data_rev.columns = data_rev.columns.str.lower()

#–ó–∞–º–µ–Ω–∞ 'tbd' –Ω–∞ Nan
data_rev['user_score'] = data_rev['user_score'].replace('tbd', np.NaN)
#–ü–µ—Ä–µ–≤–æ–¥ –≤ —á–∏—Å–ª–æ–≤–æ–π —Ç–∏–ø
data_rev['user_score'] = data_rev['user_score'].astype('float')

xone_user_score = data_rev.query('year_of_release > 2014 & platform == "XOne" & user_score > 0')['user_score']
pc_user_score = data_rev.query('year_of_release > 2014 & platform == "PC" & user_score > 0')['user_score']

results = st.ttest_ind(xone_user_score, pc_user_score)
alpha = 0.05

print('p-value: ', results.pvalue)
if results.pvalue < alpha:
    print('–û—Ç–≤–µ—Ä–≥–∞–µ–º –Ω—É–ª–µ–≤—É—é –≥–∏–ø–æ—Ç–µ–∑—É')
else:
    print('–ù–µ –ø–æ–ª—É—á–∏–ª–æ—Å—å –æ—Ç–≤–µ—Ä–≥–Ω—É—Ç—å –Ω—É–ª–µ–≤—É—é –≥–∏–ø–æ—Ç–µ–∑—É')


# In[73]:


# –ö–æ–¥ —Ä–µ–≤—å—é–µ—Ä–∞
xone_user_score.hist(alpha = .5)
pc_user_score.hist(alpha = .5)
plt.show()


# ### –ì–∏–ø–æ—Ç–µ–∑–∞ ‚Ññ2: –°—Ä–µ–¥–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ä–µ–π—Ç–∏–Ω–≥–∏ –∂–∞–Ω—Ä–æ–≤ Action –∏ Sports —Ä–∞–∑–Ω—ã–µ.
#    

# H_0: –°—Ä–µ–¥–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Ä–µ–π—Ç–∏–Ω–≥ –∂–∞–Ω—Ä–∞ Action ‚â† —Å—Ä–µ–¥–Ω–µ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–º—É —Ä–µ–π—Ç–∏–Ω–≥—É –∂–∞–Ω—Ä–∞ Sports.

#  H_1: –°—Ä–µ–¥–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Ä–µ–π—Ç–∏–Ω–≥ –∂–∞–Ω—Ä–∞ Action = —Å—Ä–µ–¥–Ω–µ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–º—É —Ä–µ–π—Ç–∏–Ω–≥—É –∂–∞–Ω—Ä–∞ Sports.

# In[41]:


action_rate = data_actual.loc[data_actual['genre'] == 'Action'].loc[data_actual['user_score'] > 0]['user_score']
sports_rate = data_actual.loc[data_actual['genre'] == 'Sports'].loc[data_actual['user_score'] > 0]['user_score']

alpha = 0.05

results = st.ttest_ind(
    action_rate,
    sports_rate,
    equal_var=False
)

print('p-–∑–Ω–∞—á–µ–Ω–∏–µ', results.pvalue)

if results.pvalue < alpha:
    print('–û—Ç–≤–µ—Ä–≥–∞–µ–º –Ω—É–ª–µ–≤—É—é –≥–∏–ø–æ—Ç–µ–∑—É')
else:
    print('–ù—É–ª–µ–≤—É—é –≥–∏–ø–æ—Ç–µ–∑—É –æ—Ç–≤–µ—Ä–≥–Ω—É—Ç—å –Ω–µ —É–¥–∞–ª–æ—Å—å')


# In[42]:


# –ö–æ–¥ —Ä–µ–≤—å—é–µ—Ä–∞
action_rate.hist();


# <div class="alert-danger">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ ‚ùå</b>
# 
# –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ–µ –∑–∞–º–µ—á–∞–Ω–∏–µ –∏ –∫ –ø—Ä–æ–≤–µ—Ä–∫–µ –≤—Ç–æ—Ä–æ–π –≥–∏–ø–æ—Ç–µ–∑—ã.</div>

# <div class="alert-info">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å—Ç—É–¥–µ–Ω—Ç–∞</b>
# 
# –ò —Ç–∞–º –∏ —Ç–∞–º –∏—Å–ø—Ä–∞–≤–∏–ª –∏ –≥—Ä–∞—Ñ–∏–∫–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å.</div>

# <div class="alert-warning">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ V2 ‚ö†Ô∏è</b>
# 
# –°–º –∑–∞–º–µ—á–∞–Ω–∏–µ –∫ –ø—Ä–æ–≤–µ—Ä–∫–µ –ø–µ—Ä–≤–æ–π –≥–∏–ø–æ—Ç–µ–∑—ã.
# </div>

# ## –û–±—â–∏–µ –≤—ã–≤–æ–¥—ã

# –í –¥–∞–Ω–Ω–æ–º –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–∏ –Ω–∞–º —É–¥–∞–ª–æ—Å—Ç—å –≤—ã—è—Å–Ω–∏—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–æ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–µ–π –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–º–æ–≥—É—Ç –Ω–∞–º –ø—Ä–µ–¥—Å–∫–∞–∑–∞—Ç—å —É—Å–ø–µ—Ö –ø—Ä–æ–¥–∞–∂ —Ç–æ–π –∏–ª–∏ –∏–Ω–æ–π –∏–≥—Ä—ã –≤ –º–∞–≥–∞–∑–∏–Ω–µ "–°—Ç—Ä–∏–º—á–∏–∫".
# 
# + –î–∞–Ω–Ω—ã–µ –ø–æ–∫–∞–∑–∞–ª–∏ –Ω–∞–º –Ω–µ–±–æ–ª—å—à–æ–π –∂–∏–∑–Ω–µ–Ω—ã–π —Ü–∏–∫–ª –∏–≥—Ä–æ–≤—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º –Ω–∞–∏–±–æ–ª—å—à–∏–µ –ø—Ä–æ–¥–∞–∂–∏ –≤ –∫–æ—Ç–æ—Ä–æ–º –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç—Å—è –≤ —Ç–µ—á–µ–Ω–∏–∏ –ø—è—Ç–∏ –ª–µ—Ç. –ò–∑ —á–µ–≥–æ —Å–ª–µ–¥—É–µ—Ç –≤—ã–≤–æ–¥, —á—Ç–æ **—Å—Ç–∞—Ä—ã–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã —Ä–∞—Å—á–∏—Ç—ã–≤–∞—è –Ω–∞ –º–∞—Å—Å–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø—Ä–æ–¥–∞–≤–∞—Ç—å –Ω–µ —Å—Ç–æ–∏—Ç**. –†–∞–∑–≤–µ —á—Ç–æ –Ω–∞ –ª—é–±–∏—Ç–µ–ª–µ–π "–†–µ—Ç—Ä–æ"
# 
# + –ù–∞–∏–±–æ–ª–µ–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 5 –ª–µ—Ç-PS3, Xbox 360 –∏ 3DS. –ù–∞ 2015-16 –≥–æ–¥–∞ –ø–æ –Ω–∏–º –Ω–∞–±–ª—é–¥–∞–µ—Ç—Å—è —Å–Ω–∏–∂–µ–Ω–∏–µ –ø—Ä–æ–¥–∞–∂ –∏ –ø–æ —ç—Ç–æ–º—É **—Å—Ç–æ–∏—Ç –æ–±—Ä–∞—Ç–∏—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –Ω–∞–±–∏—Ä–∞—é—â–∏–µ –æ–±–æ—Ä–æ—Ç—ã –≤ –ø—Ä–æ–¥–∞–∂–∞—Ö, –∞ –∏–º–µ–Ω–Ω–æ PS4 –∏ Xbox One**. –ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º, —á—Ç–æ —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º —Å–∏—Ç—É–∞—Ü–∏—è –±—É–¥–µ—Ç —Å—Ö–æ–∂–∞.
# 
# + –ö–æ—Ä—Ä–µ–ª—è—Ü–∏—è –º–µ–∂–¥—É –æ—Ü–µ–Ω–∫–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –ø—Ä–æ–¥–∞–∂–∞–º–∏ –¥–æ–≤–æ–ª—å–Ω–æ –Ω–∏–∑–∫–∞—è, –∞ –≤–æ—Ç –º–µ–∂–¥—É –æ—Ü–µ–Ω–∫–∞–º–∏ –∫—Ä–∏—Ç–∏–∫–æ–≤ –∏ –ø—Ä–æ–¥–∞–∂–∞–º–∏ –±–æ–ª—å—à–µ. –¢–∞–∫ —á—Ç–æ **–ø—Ä–∏ –≤—ã–±–æ—Ä–µ —Ç–æ–≥–æ –∫–∞–∫—É—é –∏–≥—Ä—É —Å—Ç–∞–≤–∏—Ç—å –Ω–∞ –ø–æ–ª–∫—É –º–∞–≥–∞–∑–∏–Ω–∞ —Å—Ç–æ–∏—Ç –±–æ–ª—å—à–µ–µ –≤–Ω–∏–º–∞–Ω–∏–µ –æ–±—Ä–∞—â–∞—Ç—å –Ω–∞ _–æ—Ü–µ–Ω–∫—É –∫—Ä–∏—Ç–∏–∫–æ–≤_**.
# 
# + –ü–æ —Ä–µ–≥–∏–æ–Ω–∞–º –°–µ–≤–µ—Ä–Ω–∞—è –ê–º–µ—Ä–∏–∫–∞ –∏ –ï–≤—Ä–æ–ø–∞ –ª—É—á—à–µ –≤—Å–µ–≥–æ –ø—Ä–æ–¥–∞–≤–∞—Ç—å –∂–∞–Ω—Ä—ã Action, Shooter, Sports –≤ —Ä–µ–π—Ç–∏–Ω–≥–µ M, E, T —Å —Ç–æ–π –ª–∏—à—å —Ä–∞–∑–Ω–∏—Ü–µ–π, —á—Ç–æ –≤ **–ê–º–µ—Ä–∏–∫–µ** –æ–Ω –ø—Ä–æ–¥–∞–µ—Ç—Å—è –ª—É—á—à–µ –¥–ª—è –ø–ª–∞—Ç—Ñ–æ—Ä–º Xbox, WII, PS3 –∞ –≤ **–ï–≤—Ä–æ–ø–µ** –¥–ª—è PS3, Xbox, Wii —Ç–æ–≥–¥–∞ –∫–∞–∫ –≤ **–Ø–ø–æ–Ω–∏–∏** —Å–∞–º—ã–π –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ –∂–∞–Ω—Ä—ã - Role-Playing, Action, Sports –≤ —Ä–µ–π—Ç–∏–Ω–≥–∞—Ö - NR, E, T, –∞ —Å–∞–º—ã–µ –ª—é–±–∏–º—ã–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –≤ –Ø–ø–æ–Ω–∏–∏ - 3DS, PS3, Wii.
# 
# + –ì–∏–ø–æ—Ç–µ–∑—ã –æ —Ç–æ–º, —á—Ç–æ: 
#     - —Å—Ä–µ–¥–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ä–µ–π—Ç–∏–Ω–≥–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º Xbox One –∏ PC —Ä–∞–≤–Ω—ã
#     - —Å—Ä–µ–¥–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ä–µ–π—Ç–∏–Ω–≥–∏ –∂–∞–Ω—Ä–æ–≤ Action –∏ Sports —Ä–∞–∑–Ω—ã–µ
#     
# –ù–µ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª–∏—Å—å

# <div class="alert-warning">
# <b>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ ‚ö†Ô∏è</b>
# 
# –í—ã–≤–æ–¥ –≤ —Ü–µ–ª–æ–º —Ö–æ—Ä–æ—à–∏–π. –ë—É–¥–µ—Ç –∑–¥–æ—Ä–æ–≤–æ, –µ—Å–ª–∏ –¥–æ–±–∞–≤–∏—à—å –∫–æ–Ω–∫—Ä–µ—Ç–∏–∫—É –ø–æ —Ä–µ–≥–∏–æ–Ω–∞–º: 2-3 –∫–æ–Ω—Å–æ–ª–∏, 2-3 –∂–∞–Ω—Ä–∞ –∏ —Ä–µ–π—Ç–∏–Ω–≥–∏. –¢–∞–∫–∂–µ –Ω–µ –∑–∞–±—É–¥—å –æ–±–Ω–æ–≤–∏—Ç—å –≤—ã–≤–æ–¥ –ø–æ—Å–ª–µ –≤–Ω–µ—Å–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π.</div>

# <div style="border:solid blue 3px; padding: 20px">
# <b>–û–±—â–∏–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞:</b>
# 
# –¢—ã –ø—Ä–æ–¥–µ–ª–∞–ª –±–æ–ª—å—à—É—é —Ä–∞–±–æ—Ç—É, –Ω–æ –Ω—É–∂–Ω–æ –∫–æ–µ-—á—Ç–æ –ø–æ–ø—Ä–∞–≤–∏—Ç—å —á—Ç–æ–±—ã —è –µ–µ –ø—Ä–∏–Ω—è–ª.
#     
# –ï—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞–º–µ—á–∞–Ω–∏–π:
#     
# - –ø–æ –≤—ã–±–æ—Ä—É –∞–∫—Ç—É–∞–ª—å–Ω–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∏ –ø—Ä–æ–≥–Ω–æ–∑–∞
# - –ø–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—é —Å—Ä–µ–¥–Ω–µ–≥–æ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º
# - –ø–æ –≥—Ä–∞—Ñ–∏–∫—É "—è—â–∏–∫–∏ —Å —É—Å–∞–º–∏"
# - –ø–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—é –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–π –æ—Ü–µ–Ω–æ–∫ –∏ –ø—Ä–æ–¥–∞–∂
# - –ø–æ –æ—Ü–µ–Ω–∫–µ –ø—Ä–∏–±—ã–ª—å–Ω–æ—Å—Ç–∏ –∂–∞–Ω—Ä–æ–≤
# - –ø–æ –∏–≥—Ä–∞–º –±–µ–∑ —Ä–µ–π—Ç–∏–Ω–≥–∞ –∏ –ø–æ—Ä—Ç—Ä–µ—Ç–∞–º –∏–≥—Ä–æ–∫–æ–≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ä–µ–≥–∏–æ–Ω–æ–≤
# - –ø–æ –ø—Ä–æ–≤–µ—Ä–∫–µ –≥–∏–ø–æ—Ç–µ–∑
#     
#     
# –¢–∞–∫–∂–µ, –ø–æ—Å—Ç–∞—Ä–∞–π—Å—è –æ—Ç—Ä–∞–±–æ—Ç–∞—Ç—å –∂–µ–ª—Ç—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏ —É–ª—É—á—à–∏—Ç—å –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã: –ø–æ–¥–∑–∞–≥–æ–ª–æ–≤–∫–∏, –≤—ã–≤–æ–¥—ã –ø–æ —à–∞–≥–∞–º.
#     
# –ë—É–¥—É –∂–¥–∞—Ç—å —Ç–≤–æ–π –¥–æ—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç. ‚åõÔ∏è</div>

# <div style="border:solid blue 3px; padding: 20px">
# <b>–û–±—â–∏–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ä–µ–≤—å—é–µ—Ä–∞ V2:</b>
# 
# –°–ø–∞—Å–∏–±–æ, —á—Ç–æ –¥–æ—Ä–∞–±–æ—Ç–∞–ª –ø—Ä–æ–µ–∫—Ç. –° —É—á–µ—Ç–æ–º –¥–µ–¥–ª–∞–π–Ω–∞, —Ä–∞–±–æ—Ç—É –ø—Ä–∏–Ω–∏–º–∞—é. –ù–æ –æ–±—Ä–∞—Ç–∏ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ —Å –≤–µ—Ä—Å–∏–µ–π V2. –ò—Ö —Å—Ç–æ–∏—Ç –æ—Ç—Ä–∞–±–æ—Ç–∞—Ç—å –≤ —Ñ–∏–Ω–∞–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞, –ø—Ä–µ–∂–¥–µ —á–µ–º –≤—ã–∫–ª–∞–¥—ã–≤–∞—Ç—å –µ–≥–æ –≤ –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ.
# 
# –£—Å–ø–µ—Ö–æ–≤ –≤ –¥–∞–ª—å–Ω–µ–π—à–µ–º –æ–±—É—á–µ–Ω–∏–∏! ü§ù</div>

# In[ ]:




